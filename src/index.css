@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --primary: #3b82f6;
    --background: #ffffff;
    --surface: #f3f4f6;
    --text: #1f2937;
    --border: #e5e7eb;
  }

  .dark {
    --primary: #60a5fa;
    --background: #18181b;
    --surface: #27272a;
    --text: #e4e4e7;
    --border: #3f3f46;
  }

  body {
    @apply bg-background text-text transition-colors duration-200;
    overflow-x: hidden;
  }
}

/* Scrollbar styles - Modern Fade Effect */
/* Reset base scrollbar styles */
::-webkit-scrollbar {
  width: 2px; /* Very thin line */
  height: 2px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.03);
  border-left: 1px solid transparent; 
}
.dark ::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.03);
}

/* Hide native scrollbar for content area as we use the custom indicator */
.custom-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.custom-scrollbar::-webkit-scrollbar {
  display: none;
}
.custom-scrollbar::-webkit-scrollbar-thumb,
::-webkit-scrollbar-thumb {
  background-color: rgba(156, 163, 175, 0.3); /* Always visible as faint line */
  border-radius: 0;
  
  /* Smooth transition for fade in/out */
  transition: background-color 0.3s ease-in-out;
}

/* State: Hovering the container (mouse over scroll area) - Make it slightly more visible */
.custom-scrollbar:hover::-webkit-scrollbar-thumb,
body:hover::-webkit-scrollbar-thumb {
  background-color: rgba(156, 163, 175, 0.5); 
}

/* State: Programmatic scrolling (via JS hook) */
.custom-scrollbar.is-scrolling::-webkit-scrollbar-thumb {
  background-color: #3b82f6; /* Solid Blue-500 */
}

/* Dark mode overrides */
.dark .custom-scrollbar.is-scrolling::-webkit-scrollbar-thumb {
  background-color: #60a5fa; /* Solid Blue-400 */
}

/* Hover on the thumb itself - make it darker */
.custom-scrollbar::-webkit-scrollbar-thumb:hover,
::-webkit-scrollbar-thumb:hover {
   background-color: rgba(107, 114, 128, 0.8) !important; /* gray-500 */
}
.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover,
.dark ::-webkit-scrollbar-thumb:hover {
   background-color: rgba(156, 163, 175, 0.8) !important; /* gray-400 */
}

/* Minimal legacy support ensuring no syntax errors */
.sidebar-scroll::-webkit-scrollbar { width: 6px; }

/* Markdown Content Styles - simplified version of @tailwindcss/typography */
.markdown-body h1, 
.markdown-body h2, 
.markdown-body h3, 
.markdown-body h4, 
.markdown-body h5, 
.markdown-body h6 {
  scroll-margin-top: 6rem; /* Ensures header doesn't cover content when scrolled to */
}

.markdown-body h1 { @apply text-3xl font-bold mt-8 mb-4; }
.markdown-body h2 { @apply text-2xl font-bold mt-6 mb-3 border-b pb-2 border-border; }
.markdown-body h3 { @apply text-xl font-bold mt-5 mb-2; }
.markdown-body h4 { @apply text-lg font-bold mt-4 mb-2; }
.markdown-body p { @apply mb-4 leading-relaxed; }
.markdown-body ul { @apply list-disc list-outside ml-6 mb-4; }
.markdown-body ol { @apply list-decimal list-outside ml-6 mb-4; }
.markdown-body blockquote { @apply border-l-4 border-primary pl-4 py-3 my-6 bg-gray-50 dark:bg-gray-800/50 rounded-r-lg text-gray-700 dark:text-gray-300 not-italic shadow-sm; }
.markdown-body blockquote p { @apply my-0; }
.markdown-body pre { @apply bg-gray-900 rounded-lg p-4 mb-4 overflow-x-auto text-white dark:bg-[#1e1e1e]; }
.markdown-body code { @apply bg-surface px-1.5 py-0.5 rounded text-sm font-mono text-pink-500 dark:text-gray-300; }
.markdown-body pre code { @apply bg-transparent p-0 text-inherit text-sm; }
.markdown-body img { @apply max-w-full h-auto rounded-lg my-4 shadow-md; }
.markdown-body table { @apply w-full border-collapse mb-4; }
.markdown-body th, .markdown-body td { @apply border border-border p-2; }
.markdown-body th { @apply bg-surface font-semibold; }
.markdown-body a { @apply text-primary hover:underline; }
.markdown-body hr { @apply my-8 border-t border-border; }

/* Badges/Shields styling - keep badges inline */
.markdown-body a:has(> img[src*="shields"]) {
  display: inline-flex;
  vertical-align: middle;
  margin-right: 4px;
}
.markdown-body a:has(> img[src*="shields"]) img {
  margin: 0 !important;
  box-shadow: none !important;
  display: inline-block;
  vertical-align: middle;
}

/* Custom scrollbar for sidebar - autohide behavior */
/* Old sidebar styles removed */
